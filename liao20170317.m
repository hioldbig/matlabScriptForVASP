list=[
    0.0544    0.8916         0
   -0.0094   -0.0032   -0.2081
   -0.0296    0.0048   -0.0788
    0.0296   -0.0048   -0.0788
    0.0094    0.0032   -0.2081
   -0.0094   -0.0032    0.2081
   -0.0296    0.0048    0.0788
    0.0296   -0.0048    0.0788
    0.0094    0.0032    0.2081
   -0.3962    0.0996         0
    0.0061    0.0101    0.0090
   -0.0042   -0.0114    0.4560
    0.0042    0.0114    0.4560
   -0.0061   -0.0101    0.0090
    0.0061    0.0101   -0.0090
   -0.0042   -0.0114   -0.4560
    0.0042    0.0114   -0.4560
   -0.0061   -0.0101   -0.0090
         0         0         0
    0.0069   -0.0121    0.0568
    0.0001   -0.0142    0.4964
   -0.0001    0.0142    0.4964
   -0.0069    0.0121    0.0568
   -0.0069    0.0121    0.0568
   -0.0001    0.0142    0.4964
    0.0001   -0.0142    0.4964
    0.0069   -0.0121    0.0568
         0         0   -0.5252
   -0.0038   -0.0468   -0.3853
    0.0529   -0.0155    0.1653
    0.0529   -0.0155   -0.1653
   -0.0038   -0.0468    0.3853
    0.0038    0.0468   -0.3853
   -0.0529    0.0155    0.1653
   -0.0529    0.0155   -0.1653
    0.0038    0.0468    0.3853
         0         0         0
   -0.0123   -0.0802   -0.4068
    0.0125   -0.0184    0.2782
    0.0125   -0.0184   -0.2782
   -0.0123   -0.0802    0.4068
   -0.0123   -0.0802    0.4068
    0.0125   -0.0184   -0.2782
    0.0125   -0.0184    0.2782
   -0.0123   -0.0802   -0.4068
         0         0    0.5464
   -0.0171   -0.0726   -0.2892
   -0.0354   -0.0183    0.2908
   -0.0354   -0.0183   -0.2908
   -0.0171   -0.0726    0.2892
    0.0171    0.0726   -0.2892
    0.0354    0.0183    0.2908
    0.0354    0.0183   -0.2908
    0.0171    0.0726    0.2892
         0         0         0
    0.0229   -0.0658   -0.4914
   -0.0221   -0.0160    0.0539
    0.0221    0.0160    0.0539
   -0.0229    0.0658   -0.4914
   -0.0229    0.0658   -0.4914
    0.0221    0.0160    0.0539
   -0.0221   -0.0160    0.0539
    0.0229   -0.0658   -0.4914
    0.0697   -0.1920         0
    0.0261   -0.0829   -0.4761
   -0.0150   -0.0235    0.0677
    0.0150    0.0235    0.0677
   -0.0261    0.0829   -0.4761
    0.0261   -0.0829    0.4761
   -0.0150   -0.0235   -0.0677
    0.0150    0.0235   -0.0677
   -0.0261    0.0829    0.4761
         0         0         0
    0.0004    0.0418   -0.2873
   -0.0024    0.0322   -0.4058
   -0.0024    0.0322    0.4058
    0.0004    0.0418    0.2873
    0.0004    0.0418    0.2873
   -0.0024    0.0322    0.4058
   -0.0024    0.0322   -0.4058
    0.0004    0.0418   -0.2873 
];

bv=[
   1.471865962  -4.252904066   0.000000000
   1.471865962   4.252904066   0.000000000
   0.000000000   0.000000000  20.000000000
];

pos=[
    0.000000000   0.000000000   0.500000000
    0.799569753   0.200430247   0.408768701
    0.598132789   0.401867211   0.410940882
    0.401867211   0.598132789   0.410940882
    0.200430247   0.799569753   0.408768701
    0.799569753   0.200430247   0.591231299
    0.598132789   0.401867211   0.589059118
    0.401867211   0.598132789   0.589059118
    0.200430247   0.799569753   0.591231299
];

poscar=pos*bv;
lists=mat2cell(list,9*ones(9,1));

data=zeros(9,3);

cd('Data');
mkdir('liao');
cd('liao');

for i=1:9
   
   for j=1:9;
      data(j,:)=poscar(j,:)-0.5*lists{i}(j,:);
   end
   
   data=data/bv;
   
   fid = fopen(['POSCAR_',num2str(i)],'w');

   atoms = {'Mg','B'};
   num = [1 8];
   posHead(fid,atoms,num,bv);

   for ii=1:length(data) 
       fprintf(fid,'%21.16f',[data(ii,1),data(ii,2),data(ii,3)]);
       fprintf(fid,'\tT\tT\tT\n');
   end

   fclose(fid);
   
end

cd ../..