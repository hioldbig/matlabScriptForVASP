clear
clc
all=[ 
 0.5000045138822732  0.4999996463410312  0.5111109773157059   
  0.6534453688472290  0.4999913462200635  0.4976516817451343   
  0.5767367469169918  0.6329130624322061  0.4976030086434656  
  0.4232987878293434  0.6329460640888936  0.4976158811026111   
  0.3465542991588635  0.5000433130038281  0.4976409113504614   
  0.4232687153688248  0.3671013619868161  0.4976306327711252  
  0.5766801603946410  0.3670613063460774  0.4976438258170689  
  0.4999960768499137  0.5000020317563834  0.6615899315453586  
  0.6368179948886571  0.5790393856257179  0.6247920480448874  
  0.5000457621994638  0.6580959106947887  0.6247614573801877   
  0.3632301356691277  0.5790281853016968  0.6247634051703774   
  0.3631264589608186  0.4209803909744602  0.6247909686465033  
  0.4999461504499159  0.3419433508314105  0.6247672914821257   
  0.6367869467407133  0.4209738413596236  0.6247736012812364  
  0.4999974503771114  0.4999809652237074  0.8029809767051516   
  0.6548344524076738  0.4999826831085915  0.7531547066307622   
  0.5775222149248153  0.6341689594910622  0.7531968176359294   
  0.4225410584402759  0.6341659425402753  0.7532202192925700   
  0.3451453139728554  0.5000422512279886  0.7531445067218249  
  0.4224822415267664  0.3658121339792114  0.7531905486321625   
  0.5774470624967021  0.3657863789453861  0.7532076280016911   
  0.4999835567599712  0.4999961661045342  0.9491215967045069   
  0.6276829691037619  0.5736963380081793  0.8836236141083477   
  0.5000108988267564  0.6474049997752992  0.8836425431638326   
  0.3723088721002425  0.5737957113777394  0.8836018636012541   
  0.3722692203813585  0.4262500787719704  0.8835958545475094   
  0.4999462057020236  0.3526069639422797  0.8836010221139231   
  0.6276903648229162  0.4261912305407785  0.8835824798442967   

    ];%所有的坐标
combos=combntns(1:size(all,1),2);
for nn=1:size(combos,1)
     Alatoms=all(combos(nn,:)',:);
     Mgatoms=setdiff(all,Alatoms,'rows');
    
% for nn=1:size(all,1)
%    x=[all(nn,1:3:end)' all(nn,2:3:end)' all(nn,3:3:end)'];
%    Sa=x(end-3:end,:);%去掉一个S
%    Satoms=Sa(1:2:end,:);
    ch=[Alatoms
       Mgatoms];
%     Catoms=ch(1:26,:);
%    Hatoms=ch(27:end-2,:);
%average1=mean(ch(:,1));
%average2=mean(ch(:,2));
%average3=mean(ch(:,3));
%constant1=(max(ch(:,1))-min(ch(:,1))+10)/2;
%constant2=(max(ch(:,2))-min(ch(:,2))+10)/2;
%constant3=(max(ch(:,3))-min(ch(:,3))+10)/2;
 
 fid = fopen(['./Data/changPOS/POSCAR_2_' num2str(nn)],'w');
  fprintf(fid,'%7s','$POSCAR');
  fprintf(fid,'%4d',2);
  fprintf(fid,'%3s','Al');
  fprintf(fid,'%2s','Mg');
   fprintf(fid,'\n');
  fprintf(fid,'%8f',1.00); 
   fprintf(fid,'\n');
    fprintf(fid,'%8.2f',20); 
   fprintf(fid,'\n');
    fprintf(fid,'%8.2f',20); 
   fprintf(fid,'\n');
    fprintf(fid,'%8.2f',20); 
   fprintf(fid,'\n');
    fprintf(fid,'%4i',[size(Alatoms,1) size(Mgatoms,1) ]); %number of Al Mg Satoms
    fprintf(fid,'\n');
    fprintf(fid,'%4s','Cart');
    fprintf(fid,'\n');
 
 
    for ii=1:length(ch)
         fprintf(fid,'%8.4f ',[ch(ii,1),ch(ii,2),ch(ii,3)]);
    fprintf(fid,'\n');
    end
end
fclose(fid);